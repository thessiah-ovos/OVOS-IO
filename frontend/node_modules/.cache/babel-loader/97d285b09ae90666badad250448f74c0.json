{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _require = require(\"../helpers/create-event-accessor\"),\n    setupForSimpleEventAccessors = _require.setupForSimpleEventAccessors;\n\nvar EventTargetImpl = require(\"../events/EventTarget-impl\").implementation;\n\nvar Event = require(\"../generated/Event\");\n\nvar AbortSignalImpl = /*#__PURE__*/function (_EventTargetImpl) {\n  _inherits(AbortSignalImpl, _EventTargetImpl);\n\n  var _super = _createSuper(AbortSignalImpl);\n\n  function AbortSignalImpl(args, privateData) {\n    var _this;\n\n    _classCallCheck(this, AbortSignalImpl);\n\n    _this = _super.call(this); // make event firing possible\n\n    _this._ownerDocument = privateData.window.document;\n    _this.aborted = false;\n    _this.abortAlgorithms = new Set();\n    return _this;\n  }\n\n  _createClass(AbortSignalImpl, [{\n    key: \"_signalAbort\",\n    value: function _signalAbort() {\n      if (this.aborted) {\n        return;\n      }\n\n      this.aborted = true;\n\n      var _iterator = _createForOfIteratorHelper(this.abortAlgorithms),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var algorithm = _step.value;\n          algorithm();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.abortAlgorithms.clear();\n\n      this._dispatch(Event.createImpl([\"abort\", {\n        bubbles: false,\n        cancelable: false\n      }], {\n        isTrusted: true\n      }));\n    }\n  }, {\n    key: \"_addAlgorithm\",\n    value: function _addAlgorithm(algorithm) {\n      if (this.aborted) {\n        return;\n      }\n\n      this.abortAlgorithms.add(algorithm);\n    }\n  }, {\n    key: \"_removeAlgorithm\",\n    value: function _removeAlgorithm(algorithm) {\n      this.abortAlgorithms.delete(algorithm);\n    }\n  }]);\n\n  return AbortSignalImpl;\n}(EventTargetImpl);\n\nsetupForSimpleEventAccessors(AbortSignalImpl.prototype, [\"abort\"]);\nmodule.exports = {\n  implementation: AbortSignalImpl\n};","map":{"version":3,"sources":["/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/jsdom/lib/jsdom/living/aborting/AbortSignal-impl.js"],"names":["require","setupForSimpleEventAccessors","EventTargetImpl","implementation","Event","AbortSignalImpl","args","privateData","_ownerDocument","window","document","aborted","abortAlgorithms","Set","algorithm","clear","_dispatch","createImpl","bubbles","cancelable","isTrusted","add","delete","prototype","module","exports"],"mappings":"AAAA;;;;;;;;;;;;eAEyCA,OAAO,CAAC,kCAAD,C;IAAxCC,4B,YAAAA,4B;;AACR,IAAMC,eAAe,GAAGF,OAAO,CAAC,4BAAD,CAAP,CAAsCG,cAA9D;;AAEA,IAAMC,KAAK,GAAGJ,OAAO,CAAC,oBAAD,CAArB;;IAEMK,e;;;;;AACJ,2BAAYC,IAAZ,EAAkBC,WAAlB,EAA+B;AAAA;;AAAA;;AAC7B,8BAD6B,CAG7B;;AACA,UAAKC,cAAL,GAAsBD,WAAW,CAACE,MAAZ,CAAmBC,QAAzC;AAEA,UAAKC,OAAL,GAAe,KAAf;AACA,UAAKC,eAAL,GAAuB,IAAIC,GAAJ,EAAvB;AAP6B;AAQ9B;;;;mCAEc;AACb,UAAI,KAAKF,OAAT,EAAkB;AAChB;AACD;;AACD,WAAKA,OAAL,GAAe,IAAf;;AAJa,iDAMW,KAAKC,eANhB;AAAA;;AAAA;AAMb,4DAA8C;AAAA,cAAnCE,SAAmC;AAC5CA,UAAAA,SAAS;AACV;AARY;AAAA;AAAA;AAAA;AAAA;;AASb,WAAKF,eAAL,CAAqBG,KAArB;;AAEA,WAAKC,SAAL,CAAeZ,KAAK,CAACa,UAAN,CACb,CACE,OADF,EAEE;AAAEC,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,UAAU,EAAE;AAA9B,OAFF,CADa,EAKb;AAAEC,QAAAA,SAAS,EAAE;AAAb,OALa,CAAf;AAOD;;;kCAEaN,S,EAAW;AACvB,UAAI,KAAKH,OAAT,EAAkB;AAChB;AACD;;AACD,WAAKC,eAAL,CAAqBS,GAArB,CAAyBP,SAAzB;AACD;;;qCAEgBA,S,EAAW;AAC1B,WAAKF,eAAL,CAAqBU,MAArB,CAA4BR,SAA5B;AACD;;;;EAxC2BZ,e;;AA2C9BD,4BAA4B,CAACI,eAAe,CAACkB,SAAjB,EAA4B,CAAC,OAAD,CAA5B,CAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACftB,EAAAA,cAAc,EAAEE;AADD,CAAjB","sourcesContent":["\"use strict\";\n\nconst { setupForSimpleEventAccessors } = require(\"../helpers/create-event-accessor\");\nconst EventTargetImpl = require(\"../events/EventTarget-impl\").implementation;\n\nconst Event = require(\"../generated/Event\");\n\nclass AbortSignalImpl extends EventTargetImpl {\n  constructor(args, privateData) {\n    super();\n\n    // make event firing possible\n    this._ownerDocument = privateData.window.document;\n\n    this.aborted = false;\n    this.abortAlgorithms = new Set();\n  }\n\n  _signalAbort() {\n    if (this.aborted) {\n      return;\n    }\n    this.aborted = true;\n\n    for (const algorithm of this.abortAlgorithms) {\n      algorithm();\n    }\n    this.abortAlgorithms.clear();\n\n    this._dispatch(Event.createImpl(\n      [\n        \"abort\",\n        { bubbles: false, cancelable: false }\n      ],\n      { isTrusted: true }\n    ));\n  }\n\n  _addAlgorithm(algorithm) {\n    if (this.aborted) {\n      return;\n    }\n    this.abortAlgorithms.add(algorithm);\n  }\n\n  _removeAlgorithm(algorithm) {\n    this.abortAlgorithms.delete(algorithm);\n  }\n}\n\nsetupForSimpleEventAccessors(AbortSignalImpl.prototype, [\"abort\"]);\n\nmodule.exports = {\n  implementation: AbortSignalImpl\n};\n"]},"metadata":{},"sourceType":"script"}