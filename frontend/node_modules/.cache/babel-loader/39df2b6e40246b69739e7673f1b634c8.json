{"ast":null,"code":"import React,{useEffect,useState}from'react';import{addToCart,removeFromCart}from'../actions/cartActions';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';function CartScreen(props){var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;// const [price, setPrice] = useState(29.99);\nvar beatId=props.match.params.id;var arr=props.location.search.split(/([0-9]+)/);console.log(arr[1]);var price=arr[1];var lease=props.location.search?props.location.search.split(\"=\")[1]:4;//  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\nvar dispatch=useDispatch();console.log(lease);console.log(props.match.params);var removeFromCartHandler=function removeFromCartHandler(beatId){dispatch(removeFromCart(beatId));};useEffect(function(){if(beatId){dispatch(addToCart(beatId,lease,price));}},[]);var checkoutHandler=function checkoutHandler(){props.history.push(\"/signin?redirect=terms\");};return/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-list\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"cart-list-container\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Shopping Cart\"),/*#__PURE__*/React.createElement(\"div\",null)),cartItems.length===0?/*#__PURE__*/React.createElement(\"div\",null,\"Cart is empty\"):cartItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"cart-image\"},/*#__PURE__*/React.createElement(\"img\",{src:item.image,alt:\"product\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-name\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/product/\"+item.product},item.name)),/*#__PURE__*/React.createElement(\"div\",null,\"Lease: \",item.lease,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"button\",onClick:function onClick(){return removeFromCartHandler(item.product);}},\"Delete\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-price\"},\"$\",item.price));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-action\"},/*#__PURE__*/React.createElement(\"h3\",null,console.log(cartItems),\"Subtotal: $\",cartItems.reduce(function(a,c){return a+c.price*1;},0)),/*#__PURE__*/React.createElement(\"button\",{onClick:checkoutHandler,className:\"button primary full-width\",disabled:cartItems.length===0},\"Proceed to Checkout\")));}export default CartScreen;","map":{"version":3,"sources":["/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","useState","addToCart","removeFromCart","useDispatch","useSelector","Link","CartScreen","props","cart","state","cartItems","beatId","match","params","id","arr","location","search","split","console","log","price","lease","dispatch","removeFromCartHandler","checkoutHandler","history","push","length","map","item","image","product","name","reduce","a","c"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nfunction CartScreen(props) {\r\n\r\n  const cart = useSelector(state => state.cart);\r\n  const { cartItems } = cart;\r\n // const [price, setPrice] = useState(29.99);\r\n\r\n\r\n  const beatId = props.match.params.id;\r\n  const arr = props.location.search.split(/([0-9]+)/)\r\n  console.log(arr[1])\r\n  const price = arr[1];\r\n  const lease = props.location.search ? props.location.search.split(\"=\")[1] : 4;\r\n\r\n//  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\r\n  const dispatch = useDispatch();\r\n\r\n  console.log(lease);\r\n  console.log(props.match.params);\r\n\r\n  const removeFromCartHandler = (beatId) => {\r\n    dispatch(removeFromCart(beatId));\r\n  }\r\n  useEffect(() => {\r\n    if (beatId) {\r\n      dispatch(addToCart(beatId, lease, price));\r\n    }\r\n  }, []);\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=terms\");\r\n  }\r\n\r\n  return <div className=\"cart\">\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list-container\">\r\n        <li>\r\n          <h3>\r\n            Shopping Cart\r\n          </h3>\r\n          <div>\r\n          </div>\r\n        </li>\r\n        {\r\n          cartItems.length === 0 ?\r\n            <div>\r\n              Cart is empty\r\n          </div>\r\n            :\r\n            cartItems.map(item =>\r\n              <li>\r\n                <div className=\"cart-image\">\r\n                  <img src={item.image} alt=\"product\" />\r\n                </div>\r\n                <div className=\"cart-name\">\r\n                  <div>\r\n                    <Link to={\"/product/\" + item.product}>\r\n                      {item.name}\r\n                    </Link>\r\n\r\n                  </div>\r\n                  <div>\r\n                    Lease: {item.lease}\r\n                   \r\n\r\n                    <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)} >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"cart-price\">\r\n                  ${item.price}\r\n                </div>\r\n              </li>\r\n            )\r\n        }\r\n      </ul>\r\n\r\n    </div>\r\n    <div className=\"cart-action\">\r\n      <h3>\r\n          {console.log(cartItems)}\r\n          Subtotal: ${cartItems.reduce((a, c) => a + c.price * 1, 0)}\r\n        \r\n        \r\n         \r\n      </h3>\r\n      <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n        Proceed to Checkout\r\n      </button>\r\n\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nexport default CartScreen;\r\n"]},"metadata":{},"sourceType":"module"}