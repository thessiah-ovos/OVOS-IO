{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/@babel/runtime/helpers/createClass\");\n\nvar DOMException = require(\"domexception\");\n\nvar OrderedSet = require(\"../helpers/ordered-set.js\");\n\nvar _require = require(\"../helpers/strings.js\"),\n    asciiLowercase = _require.asciiLowercase;\n\nvar idlUtils = require(\"../generated/utils.js\");\n\nvar _require2 = require(\"../attributes.js\"),\n    getAttributeValue = _require2.getAttributeValue,\n    setAttributeValue = _require2.setAttributeValue,\n    hasAttributeByName = _require2.hasAttributeByName;\n\nfunction validateTokens() {\n  for (var _len = arguments.length, tokens = new Array(_len), _key = 0; _key < _len; _key++) {\n    tokens[_key] = arguments[_key];\n  }\n\n  for (var _i = 0, _tokens = tokens; _i < _tokens.length; _i++) {\n    var token = _tokens[_i];\n\n    if (token === \"\") {\n      throw new DOMException(\"The token provided must not be empty.\", \"SyntaxError\");\n    }\n  }\n\n  for (var _i2 = 0, _tokens2 = tokens; _i2 < _tokens2.length; _i2++) {\n    var _token = _tokens2[_i2];\n\n    if (/[\\t\\n\\f\\r ]/.test(_token)) {\n      var whitespaceMsg = \"The token provided contains HTML space characters, which are not valid in tokens.\";\n      throw new DOMException(whitespaceMsg, \"InvalidCharacterError\");\n    }\n  }\n} // https://dom.spec.whatwg.org/#domtokenlist\n\n\nvar DOMTokenListImpl = /*#__PURE__*/function () {\n  function DOMTokenListImpl(constructorArgs, privateData) {\n    _classCallCheck(this, DOMTokenListImpl);\n\n    // _syncWithElement() must always be called before any _tokenSet access.\n    this._tokenSet = new OrderedSet();\n    this._element = privateData.element;\n    this._attributeLocalName = privateData.attributeLocalName;\n    this._supportedTokens = privateData.supportedTokens; // Needs synchronization with element if token set is to be accessed.\n\n    this._dirty = true;\n  }\n\n  _createClass(DOMTokenListImpl, [{\n    key: \"attrModified\",\n    value: function attrModified() {\n      this._dirty = true;\n    }\n  }, {\n    key: \"_syncWithElement\",\n    value: function _syncWithElement() {\n      if (!this._dirty) {\n        return;\n      }\n\n      var val = getAttributeValue(this._element, this._attributeLocalName);\n\n      if (val === null) {\n        this._tokenSet.empty();\n      } else {\n        this._tokenSet = OrderedSet.parse(val);\n      }\n\n      this._dirty = false;\n    }\n  }, {\n    key: \"_validationSteps\",\n    value: function _validationSteps(token) {\n      if (!this._supportedTokens) {\n        throw new TypeError(\"\".concat(this._attributeLocalName, \" attribute has no supported tokens\"));\n      }\n\n      var lowerToken = asciiLowercase(token);\n      return this._supportedTokens.has(lowerToken);\n    }\n  }, {\n    key: \"_updateSteps\",\n    value: function _updateSteps() {\n      if (!hasAttributeByName(this._element, this._attributeLocalName) && this._tokenSet.isEmpty()) {\n        return;\n      }\n\n      setAttributeValue(this._element, this._attributeLocalName, this._tokenSet.serialize());\n    }\n  }, {\n    key: \"_serializeSteps\",\n    value: function _serializeSteps() {\n      return getAttributeValue(this._element, this._attributeLocalName);\n    } // Used by other parts of jsdom\n\n  }, {\n    key: \"item\",\n    value: function item(index) {\n      this._syncWithElement();\n\n      if (index >= this._tokenSet.size) {\n        return null;\n      }\n\n      return this._tokenSet.get(index);\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(token) {\n      this._syncWithElement();\n\n      return this._tokenSet.contains(token);\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len2 = arguments.length, tokens = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        tokens[_key2] = arguments[_key2];\n      }\n\n      for (var _i3 = 0, _tokens3 = tokens; _i3 < _tokens3.length; _i3++) {\n        var token = _tokens3[_i3];\n        validateTokens(token);\n      }\n\n      this._syncWithElement();\n\n      for (var _i4 = 0, _tokens4 = tokens; _i4 < _tokens4.length; _i4++) {\n        var _token2 = _tokens4[_i4];\n\n        this._tokenSet.append(_token2);\n      }\n\n      this._updateSteps();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _this$_tokenSet;\n\n      for (var _len3 = arguments.length, tokens = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        tokens[_key3] = arguments[_key3];\n      }\n\n      for (var _i5 = 0, _tokens5 = tokens; _i5 < _tokens5.length; _i5++) {\n        var token = _tokens5[_i5];\n        validateTokens(token);\n      }\n\n      this._syncWithElement();\n\n      (_this$_tokenSet = this._tokenSet).remove.apply(_this$_tokenSet, tokens);\n\n      this._updateSteps();\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(token) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      validateTokens(token);\n\n      this._syncWithElement();\n\n      if (this._tokenSet.contains(token)) {\n        if (force === undefined || force === false) {\n          this._tokenSet.remove(token);\n\n          this._updateSteps();\n\n          return false;\n        }\n\n        return true;\n      }\n\n      if (force === undefined || force === true) {\n        this._tokenSet.append(token);\n\n        this._updateSteps();\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(token, newToken) {\n      validateTokens(token, newToken);\n\n      this._syncWithElement();\n\n      if (!this._tokenSet.contains(token)) {\n        return false;\n      }\n\n      this._tokenSet.replace(token, newToken);\n\n      this._updateSteps();\n\n      return true;\n    }\n  }, {\n    key: \"supports\",\n    value: function supports(token) {\n      return this._validationSteps(token);\n    }\n  }, {\n    key: \"tokenSet\",\n    get: function get() {\n      this._syncWithElement();\n\n      return this._tokenSet;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      this._syncWithElement();\n\n      return this._tokenSet.size;\n    }\n  }, {\n    key: idlUtils.supportedPropertyIndices,\n    get: function get() {\n      this._syncWithElement();\n\n      return this._tokenSet.keys();\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._serializeSteps();\n    },\n    set: function set(V) {\n      setAttributeValue(this._element, this._attributeLocalName, V);\n    }\n  }]);\n\n  return DOMTokenListImpl;\n}();\n\nexports.implementation = DOMTokenListImpl;","map":{"version":3,"sources":["/mnt/c/Users/riche/ThessianSound/ThessianSoundLLC/frontend/node_modules/jsdom/lib/jsdom/living/nodes/DOMTokenList-impl.js"],"names":["DOMException","require","OrderedSet","asciiLowercase","idlUtils","getAttributeValue","setAttributeValue","hasAttributeByName","validateTokens","tokens","token","test","whitespaceMsg","DOMTokenListImpl","constructorArgs","privateData","_tokenSet","_element","element","_attributeLocalName","attributeLocalName","_supportedTokens","supportedTokens","_dirty","val","empty","parse","TypeError","lowerToken","has","isEmpty","serialize","index","_syncWithElement","size","get","contains","append","_updateSteps","remove","force","undefined","newToken","replace","_validationSteps","supportedPropertyIndices","keys","_serializeSteps","V","exports","implementation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst DOMException = require(\"domexception\");\nconst OrderedSet = require(\"../helpers/ordered-set.js\");\nconst { asciiLowercase } = require(\"../helpers/strings.js\");\nconst idlUtils = require(\"../generated/utils.js\");\n\nconst { getAttributeValue, setAttributeValue, hasAttributeByName } = require(\"../attributes.js\");\n\nfunction validateTokens(...tokens) {\n  for (const token of tokens) {\n    if (token === \"\") {\n      throw new DOMException(\"The token provided must not be empty.\", \"SyntaxError\");\n    }\n  }\n  for (const token of tokens) {\n    if (/[\\t\\n\\f\\r ]/.test(token)) {\n      const whitespaceMsg = \"The token provided contains HTML space characters, which are not valid in tokens.\";\n      throw new DOMException(whitespaceMsg, \"InvalidCharacterError\");\n    }\n  }\n}\n\n// https://dom.spec.whatwg.org/#domtokenlist\nclass DOMTokenListImpl {\n  constructor(constructorArgs, privateData) {\n    // _syncWithElement() must always be called before any _tokenSet access.\n    this._tokenSet = new OrderedSet();\n    this._element = privateData.element;\n    this._attributeLocalName = privateData.attributeLocalName;\n    this._supportedTokens = privateData.supportedTokens;\n\n    // Needs synchronization with element if token set is to be accessed.\n    this._dirty = true;\n  }\n\n  attrModified() {\n    this._dirty = true;\n  }\n\n  _syncWithElement() {\n    if (!this._dirty) {\n      return;\n    }\n\n    const val = getAttributeValue(this._element, this._attributeLocalName);\n    if (val === null) {\n      this._tokenSet.empty();\n    } else {\n      this._tokenSet = OrderedSet.parse(val);\n    }\n\n    this._dirty = false;\n  }\n\n  _validationSteps(token) {\n    if (!this._supportedTokens) {\n      throw new TypeError(`${this._attributeLocalName} attribute has no supported tokens`);\n    }\n    const lowerToken = asciiLowercase(token);\n    return this._supportedTokens.has(lowerToken);\n  }\n\n  _updateSteps() {\n    if (!hasAttributeByName(this._element, this._attributeLocalName) && this._tokenSet.isEmpty()) {\n      return;\n    }\n    setAttributeValue(this._element, this._attributeLocalName, this._tokenSet.serialize());\n  }\n\n  _serializeSteps() {\n    return getAttributeValue(this._element, this._attributeLocalName);\n  }\n\n  // Used by other parts of jsdom\n  get tokenSet() {\n    this._syncWithElement();\n    return this._tokenSet;\n  }\n\n  get length() {\n    this._syncWithElement();\n    return this._tokenSet.size;\n  }\n\n  get [idlUtils.supportedPropertyIndices]() {\n    this._syncWithElement();\n    return this._tokenSet.keys();\n  }\n\n  item(index) {\n    this._syncWithElement();\n    if (index >= this._tokenSet.size) {\n      return null;\n    }\n    return this._tokenSet.get(index);\n  }\n\n  contains(token) {\n    this._syncWithElement();\n    return this._tokenSet.contains(token);\n  }\n\n  add(...tokens) {\n    for (const token of tokens) {\n      validateTokens(token);\n    }\n    this._syncWithElement();\n    for (const token of tokens) {\n      this._tokenSet.append(token);\n    }\n    this._updateSteps();\n  }\n\n  remove(...tokens) {\n    for (const token of tokens) {\n      validateTokens(token);\n    }\n    this._syncWithElement();\n    this._tokenSet.remove(...tokens);\n    this._updateSteps();\n  }\n\n  toggle(token, force = undefined) {\n    validateTokens(token);\n    this._syncWithElement();\n    if (this._tokenSet.contains(token)) {\n      if (force === undefined || force === false) {\n        this._tokenSet.remove(token);\n        this._updateSteps();\n        return false;\n      }\n      return true;\n    }\n    if (force === undefined || force === true) {\n      this._tokenSet.append(token);\n      this._updateSteps();\n      return true;\n    }\n    return false;\n  }\n\n  replace(token, newToken) {\n    validateTokens(token, newToken);\n    this._syncWithElement();\n    if (!this._tokenSet.contains(token)) {\n      return false;\n    }\n    this._tokenSet.replace(token, newToken);\n    this._updateSteps();\n    return true;\n  }\n\n  supports(token) {\n    return this._validationSteps(token);\n  }\n\n  get value() {\n    return this._serializeSteps();\n  }\n\n  set value(V) {\n    setAttributeValue(this._element, this._attributeLocalName, V);\n  }\n}\n\nexports.implementation = DOMTokenListImpl;\n"]},"metadata":{},"sourceType":"script"}